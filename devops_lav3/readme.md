# Лабораторная работа №3  
## Анализ плохих и хороших практик CI/CD

### Цель работы
Целью данной лабораторной работы было на практике разобраться, как могут выглядеть плохо и хорошо написанные CI/CD пайплайны, понять распространённые bad practices при их написании и увидеть, как исправления влияют на стабильность, воспроизводимость и удобство сопровождения CI/CD.

---

### Поставленные задачи
В рамках лабораторной работы требовалось:

- написать «плохой» CI/CD файл, который формально работает, но содержит не менее трёх bad practices;
- написать «хороший» CI/CD файл, в котором эти bad practices исправлены;
- описать в отчёте каждую плохую практику, объяснить, почему она является проблемой, и показать, как она была исправлена;
- ознакомиться с историей про Васю (статья на Habr про DevOps-культуру);
- оформить отчёт в виде README в репозитории.

---

### Кратко о CI/CD
CI/CD (Continuous Integration / Continuous Delivery) — это набор практик и инструментов, которые позволяют автоматически проверять код, собирать проект и подготавливать его к релизу при каждом изменении. Грамотно настроенный CI/CD снижает количество ошибок, упрощает поддержку проекта и делает процесс разработки более предсказуемым.

---

## Плохой CI/CD файл

В файле `bad_ci.yml` представлен пример рабочего, но плохо реализованного CI/CD пайплайна.

### Используемые bad practices

#### 1. Использование `latest` версий
В плохом CI/CD используются:
- `ubuntu-latest`
- `actions/checkout@latest`

Это плохая практика, потому что такие версии не фиксированы. Поведение пайплайна может измениться в любой момент после обновления образа или action, что нарушает воспроизводимость CI/CD и может привести к неожиданным ошибкам без изменения кода проекта.

#### 2. Отсутствие ограничений на запуск пайплайна
Пайплайн запускается на push в любую ветку. Это приводит к лишним запускам CI/CD, увеличивает нагрузку и усложняет контроль изменений, особенно в реальных проектах с большим количеством веток.

#### 3. Установка зависимостей напрямую через `apt-get`
В плохом пайплайне зависимости устанавливаются вручную через `apt-get` и `pip` без использования специализированных actions и без кеширования. Это делает сборку медленной, нестабильной и плохо масштабируемой.

#### 4. Отсутствие логического разделения этапов
Все действия выполняются в одном job без чёткого разделения ответственности. Такой пайплайн сложно поддерживать и расширять.

---

## Хороший CI/CD файл

В файле `good_ci.yml` показан улучшенный вариант CI/CD, в котором перечисленные bad practices исправлены.

### Исправления и улучшения

#### 1. Фиксация версий
В хорошем CI/CD:
- используется `ubuntu-22.04`;
- используется `actions/checkout@v4`;
- явно задана версия Python (`3.10`).

Это делает пайплайн стабильным и воспроизводимым: его поведение не изменится без явного изменения конфигурации.

#### 2. Корректные триггеры запуска
CI/CD запускается только:
- при push в ветку `main`;
- при создании pull request в `main`.

Это снижает количество лишних запусков и соответствует типичному рабочему процессу.

#### 3. Использование готовых GitHub Actions
Для настройки окружения используется `actions/setup-python`, а для ускорения сборки — кеширование pip-зависимостей. Это повышает скорость и надёжность CI/CD по сравнению с ручной установкой пакетов.

#### 4. CI делает именно CI
В хорошем пайплайне отсутствует запуск серверов или имитация продакшена. CI выполняет только проверочные шаги, подтверждая корректность выполнения пайплайна.

---

## История про Васю
Статья про Васю наглядно показывает, как из набора модных инструментов и технологий может вырасти сложная инфраструктура, часто избыточная по отношению к реальным задачам. Вывод, который я могу для себя сделать это то, что инструменты DevOps должны использоваться осознанно, а не ради самих инструментов. CI/CD — это не цель, а средство упрощения разработки и сопровождения проекта.

---

## Вывод
В ходе лабораторной работы были рассмотрены и реализованы примеры плохого и хорошего CI/CD. На практике стало понятно, какие ошибки чаще всего встречаются при написании пайплайнов и почему они считаются bad practices. Исправленный CI/CD оказался более стабильным, предсказуемым и удобным для поддержки.

Лабораторная работа помогла лучше понять принципы построения CI/CD и сформировать более осознанное отношение к DevOps-инструментам.
